{"ast":null,"code":"var _jsxFileName = \"/home/khsdf/tmp/K3/src/polls/AddPoll.jsx\";\nimport React from 'react';\nimport { PollsDB } from '../hooks/PollsDB';\nimport '../styles/add-poll.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction unsecuredCopyToClipboard(text) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n  try {\n    document.execCommand('copy');\n  } catch (err) {\n    console.error('Unable to copy to clipboard', err);\n  }\n  document.body.removeChild(textArea);\n}\nclass AddPoll extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bebra: []\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"addPollView\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"poll-name-input\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"poll-date-input\",\n        placeholder: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addPoll-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"addQuestionBtn\",\n          onClick: () => {\n            this.state.bebra.push(1);\n            this.setState({\n              bebra: this.state.bebra\n            });\n          },\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"postPollBtn\",\n          onClick: () => {\n            let questionsStr = '';\n            let answersStr = '';\n            let questionForms = document.getElementsByClassName('question-form');\n            for (let i = 0; i < questionForms.length; i++) {\n              let inputs = questionForms[i].getElementsByTagName('input');\n              questionsStr += inputs[0].value + '|';\n              answersStr += inputs[1].value + '|';\n            }\n            questionsStr = questionsStr.replace(/(\\|)$/g, '');\n            answersStr = answersStr.replace(/(\\|)$/g, '');\n            let pollObj = {\n              name: document.getElementsByClassName(`poll-name-input`)[0].value,\n              expirationTime: document.getElementsByClassName(`poll-date-input`)[0].value,\n              answers: answersStr,\n              questions: questionsStr\n            };\n            PollsDB.PostPoll(pollObj).then(result => {\n              this.setState({\n                bebra: []\n              });\n              unsecuredCopyToClipboard(`http://192.168.74.57:3000/reply/${result.link}`);\n              alert('Ссылка на опрос скопирована!');\n            });\n          },\n          children: \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this), this.state.bebra.map((e, i) => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"question-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this)]\n      }, ++i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 10\n    }, this);\n  }\n}\nexport { AddPoll };","map":{"version":3,"names":["React","PollsDB","jsxDEV","_jsxDEV","unsecuredCopyToClipboard","text","textArea","document","createElement","value","body","appendChild","focus","select","execCommand","err","console","error","removeChild","AddPoll","Component","constructor","props","state","bebra","render","id","children","className","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","push","setState","questionsStr","answersStr","questionForms","getElementsByClassName","i","length","inputs","getElementsByTagName","replace","pollObj","name","expirationTime","answers","questions","PostPoll","then","result","link","alert","map","e"],"sources":["/home/khsdf/tmp/K3/src/polls/AddPoll.jsx"],"sourcesContent":["import React from 'react';\nimport { PollsDB } from '../hooks/PollsDB';\nimport '../styles/add-poll.css';\n\n\nfunction unsecuredCopyToClipboard(text) {\n\tconst textArea = document.createElement(\"textarea\");\n\ttextArea.value = text;\n\tdocument.body.appendChild(textArea);\n\ttextArea.focus();\n\ttextArea.select();\n\ttry {\n\t  document.execCommand('copy');\n\t} catch (err) {\n\t  console.error('Unable to copy to clipboard', err);\n\t}\n\tdocument.body.removeChild(textArea);\n}\n\nclass AddPoll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tbebra: []\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn <section id=\"addPollView\">\n\t\t\t<input className=\"poll-name-input\" placeholder=\"Название опроса\" />\n            <input className=\"poll-date-input\"  placeholder=\"Дата окончания\" />\n            <div className=\"addPoll-buttons\">\n                <button id=\"addQuestionBtn\" onClick={() => {\n\t\t\t\t\tthis.state.bebra.push(1);\n\t\t\t\t\tthis.setState({ bebra: this.state.bebra });\n\t\t\t\t}}>Добавить вопрос</button>\n                <button id=\"postPollBtn\" onClick={() => {\n\t\t\t\t\tlet questionsStr = '';\n\t\t\t\t\tlet answersStr = '';\n\n\t\t\t\t\tlet questionForms = document.getElementsByClassName('question-form');\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 0; i < questionForms.length; i++) {\n\t\t\t\t\t\tlet inputs = questionForms[i].getElementsByTagName('input');\n\t\t\t\t\t\tquestionsStr += inputs[0].value + '|'\n\t\t\t\t\t\tanswersStr += inputs[1].value + '|'\n\t\t\t\t\t}\n\t\t\t\t\tquestionsStr = questionsStr.replace(/(\\|)$/g, '');\n\t\t\t\t\tanswersStr = answersStr.replace(/(\\|)$/g, '');\n\n\t\t\t\t\tlet pollObj = {\n\t\t\t\t\t\tname: document.getElementsByClassName(`poll-name-input`)[0].value,\n\t\t\t\t\t\texpirationTime: document.getElementsByClassName(`poll-date-input`)[0].value,\n\t\t\t\t\t\tanswers: answersStr,\n\t\t\t\t\t\tquestions: questionsStr\n\t\t\t\t\t};\n\t\t\t\n\t\t\t\t\tPollsDB.PostPoll(pollObj).then((result) => {\n\t\t\t\t\t\tthis.setState({bebra: []})\n\t\t\t\n\t\t\t\t\t\tunsecuredCopyToClipboard(`http://192.168.74.57:3000/reply/${result.link}`)\n\t\t\t\t\t\talert('Ссылка на опрос скопирована!');\n\t\t\t\t\t});\n\t\t\t\t}}>Опубликовать</button>\n            </div>\n\n\t\t\t{ this.state.bebra.map((e, i) => \n\t\t\t\t<article key={++i} className=\"question-form\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div>Вопрос: </div>\n\t\t\t\t\t\t<input />\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div>Правильный ответ: </div>\n\t\t\t\t\t\t<input />\n\t\t\t\t\t</section>\n            \t</article>\n\t\t\t) }\n\t\t</section>\n\t}\n}\nexport { AddPoll };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}