{"ast":null,"code":"class DB {\n  static async GetPoll(link) {\n    return await DB.Request(`/api/polls/public/${link}/`);\n  }\n  static async PostReply(obj) {\n    return await DB.Request(`/api/reply/`, 'POST', obj);\n  }\n  static async Request(url, method = 'GET', bodyObj = null, token = null) {\n    let result = null;\n    let obj = {};\n    obj['method'] = method;\n    obj['headers'] = {};\n    obj['headers']['Content-type'] = 'application/json';\n    if (token) obj['headers']['Authorization'] = `Bearer ${token}`;\n    if (bodyObj) obj['body'] = JSON.stringify(bodyObj);\n    await fetch(url, obj).then(async response => {\n      console.log(response);\n      if (response.ok) await response.json().then(data => {\n        console.log(data);\n        result = data;\n      });else response.text().then(console.log);\n    });\n    return result;\n  }\n}\nexport { DB };","map":{"version":3,"names":["DB","GetPoll","link","Request","PostReply","obj","url","method","bodyObj","token","result","JSON","stringify","fetch","then","response","console","log","ok","json","data","text"],"sources":["/home/khsdf/tmp/K3/src/reply/scripts/ApiDB.js"],"sourcesContent":["class DB {\r\n\r\n    static async GetPoll(link) {\r\n        return await DB.Request(`/api/polls/public/${link}/`);\r\n    }\r\n\r\n    static async PostReply(obj) {\r\n        return await DB.Request(`/api/reply/`, 'POST', obj);\r\n    }\r\n    \r\n    static async Request(url, method = 'GET', bodyObj = null, token = null) {\r\n        \r\n        let result = null;\r\n        let obj = {};\r\n\r\n        obj['method'] = method;\r\n        \r\n        obj['headers'] = {};\r\n        obj['headers']['Content-type'] = 'application/json';\r\n        if (token) obj['headers']['Authorization'] = `Bearer ${token}`;\r\n            \r\n        if (bodyObj) obj['body'] = JSON.stringify(bodyObj);\r\n        \r\n        await fetch(url, obj).then(async (response) => {\r\n            console.log(response)\r\n            if (response.ok)\r\n                await response.json().then(data => {\r\n                    console.log(data);\r\n                    result = data;\r\n                })\r\n            else \r\n                response.text().then(console.log)\r\n        });\r\n\r\n        return result;\r\n    }\r\n} \r\n\r\nexport { DB };"],"mappings":"AAAA,MAAMA,EAAE,CAAC;EAEL,aAAaC,OAAOA,CAACC,IAAI,EAAE;IACvB,OAAO,MAAMF,EAAE,CAACG,OAAO,CAAE,qBAAoBD,IAAK,GAAE,CAAC;EACzD;EAEA,aAAaE,SAASA,CAACC,GAAG,EAAE;IACxB,OAAO,MAAML,EAAE,CAACG,OAAO,CAAE,aAAY,EAAE,MAAM,EAAEE,GAAG,CAAC;EACvD;EAEA,aAAaF,OAAOA,CAACG,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,OAAO,GAAG,IAAI,EAAEC,KAAK,GAAG,IAAI,EAAE;IAEpE,IAAIC,MAAM,GAAG,IAAI;IACjB,IAAIL,GAAG,GAAG,CAAC,CAAC;IAEZA,GAAG,CAAC,QAAQ,CAAC,GAAGE,MAAM;IAEtBF,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACnBA,GAAG,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,GAAG,kBAAkB;IACnD,IAAII,KAAK,EAAEJ,GAAG,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,GAAI,UAASI,KAAM,EAAC;IAE9D,IAAID,OAAO,EAAEH,GAAG,CAAC,MAAM,CAAC,GAAGM,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAC;IAElD,MAAMK,KAAK,CAACP,GAAG,EAAED,GAAG,CAAC,CAACS,IAAI,CAAC,MAAOC,QAAQ,IAAK;MAC3CC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAIA,QAAQ,CAACG,EAAE,EACX,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAACL,IAAI,CAACM,IAAI,IAAI;QAC/BJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;QACjBV,MAAM,GAAGU,IAAI;MACjB,CAAC,CAAC,MAEFL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAACP,IAAI,CAACE,OAAO,CAACC,GAAG,CAAC;IACzC,CAAC,CAAC;IAEF,OAAOP,MAAM;EACjB;AACJ;AAEA,SAASV,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}