{"ast":null,"code":"var _jsxFileName = \"/home/khsdf/tmp/K3/src/polls/AddPoll.jsx\";\nimport React from 'react';\nimport { PollsDB } from '../hooks/PollsDB';\nimport '../styles/add-poll.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddPoll extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bebra: []\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"addPollView\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"poll-name-input\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"poll-date-input\",\n        placeholder: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addPoll-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"addQuestionBtn\",\n          onClick: () => {\n            this.state.bebra.push(1);\n            this.setState({\n              bebra: this.state.bebra\n            });\n          },\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"postPollBtn\",\n          onClick: () => {\n            let questionsStr = '';\n            let answersStr = '';\n            let questionForms = document.getElementsByClassName('question-form');\n            for (let i = 0; i < questionForms.length; i++) {\n              let inputs = questionForms[i].getElementsByTagName('input');\n              questionsStr += inputs[0].value + '|';\n              answersStr += inputs[1].value + '|';\n            }\n            questionsStr = questionsStr.replace(/(\\|)$/g, '');\n            answersStr = answersStr.replace(/(\\|)$/g, '');\n            let pollObj = {\n              name: document.getElementsByClassName(`poll-name-input`)[0].value,\n              expirationTime: document.getElementsByClassName(`poll-date-input`)[0].value,\n              answers: answersStr,\n              questions: questionsStr\n            };\n            PollsDB.PostPoll(pollObj).then(result => {\n              this.setState({\n                bebra: []\n              });\n              navigator.clipboard.writeText(result.link);\n              alert('Ссылка на опрос скопирована!');\n            });\n          },\n          children: \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }, this), this.state.bebra.map((e, i) => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"question-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this)]\n      }, ++i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 10\n    }, this);\n  }\n}\nexport { AddPoll };","map":{"version":3,"names":["React","PollsDB","jsxDEV","_jsxDEV","AddPoll","Component","constructor","props","state","bebra","render","id","children","className","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","push","setState","questionsStr","answersStr","questionForms","document","getElementsByClassName","i","length","inputs","getElementsByTagName","value","replace","pollObj","name","expirationTime","answers","questions","PostPoll","then","result","navigator","clipboard","writeText","link","alert","map","e"],"sources":["/home/khsdf/tmp/K3/src/polls/AddPoll.jsx"],"sourcesContent":["import React from 'react';\nimport { PollsDB } from '../hooks/PollsDB';\nimport '../styles/add-poll.css';\n\nclass AddPoll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tbebra: []\n\t\t}\n\t}\n\n\trender() {\n\n\t\treturn <section id=\"addPollView\">\n\t\t\t<input className=\"poll-name-input\" placeholder=\"Название опроса\" />\n            <input className=\"poll-date-input\"  placeholder=\"Дата окончания\" />\n            <div className=\"addPoll-buttons\">\n                <button id=\"addQuestionBtn\" onClick={() => {\n\t\t\t\t\tthis.state.bebra.push(1);\n\t\t\t\t\tthis.setState({ bebra: this.state.bebra });\n\t\t\t\t}}>Добавить вопрос</button>\n                <button id=\"postPollBtn\" onClick={() => {\n\t\t\t\t\tlet questionsStr = '';\n\t\t\t\t\tlet answersStr = '';\n\n\t\t\t\t\tlet questionForms = document.getElementsByClassName('question-form');\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 0; i < questionForms.length; i++) {\n\t\t\t\t\t\tlet inputs = questionForms[i].getElementsByTagName('input');\n\t\t\t\t\t\tquestionsStr += inputs[0].value + '|'\n\t\t\t\t\t\tanswersStr += inputs[1].value + '|'\n\t\t\t\t\t}\n\t\t\t\t\tquestionsStr = questionsStr.replace(/(\\|)$/g, '');\n\t\t\t\t\tanswersStr = answersStr.replace(/(\\|)$/g, '');\n\n\t\t\t\t\tlet pollObj = {\n\t\t\t\t\t\tname: document.getElementsByClassName(`poll-name-input`)[0].value,\n\t\t\t\t\t\texpirationTime: document.getElementsByClassName(`poll-date-input`)[0].value,\n\t\t\t\t\t\tanswers: answersStr,\n\t\t\t\t\t\tquestions: questionsStr\n\t\t\t\t\t};\n\t\t\t\n\t\t\t\t\tPollsDB.PostPoll(pollObj).then((result) => {\n\t\t\t\t\t\tthis.setState({bebra: []})\n\t\t\t\n\t\t\t\t\t\tnavigator.clipboard.writeText(result.link)\n\t\t\t\t\t\talert('Ссылка на опрос скопирована!');\n\t\t\t\t\t});\n\t\t\t\t}}>Опубликовать</button>\n            </div>\n\n\t\t\t{ this.state.bebra.map((e, i) => \n\t\t\t\t<article key={++i} className=\"question-form\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div>Вопрос: </div>\n\t\t\t\t\t\t<div><input /></div>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div>Правильный ответ: </div>\n\t\t\t\t\t\t<div><input /></div>\n\t\t\t\t\t</section>\n            \t</article>\n\t\t\t) }\n\t\t</section>\n\t}\n}\nexport { AddPoll };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}